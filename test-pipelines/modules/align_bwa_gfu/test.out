====================================================================================================
|                              Starting Pipeline at 2014-01-08 18:16                               |
====================================================================================================

============================== Stage align_bwa_gfu [testinput_R1_001] ==============================

============================== Stage align_bwa_gfu [testinput_R2_001] ==============================
INPUTS: testinput_R1_001.fastq.gz
INPUTS: testinput_R2_001.fastq.gz
OUTPUTS: testinput_R1_001.fastq.sai, testinput_R1_001.fastq.bam
COMMAND:

                /lustre1/tools/bin/bwa aln -t 2  /test/reference/pippo.fa testinput_R1_001.fastq.gz > testinput_R1_001.fastq.sai;
                TMP_SCRATCH=$(/bin/mktemp -d /dev/shm/$PROJECTNAME.XXXXXXXXXXXXX);
                TMP_OUTPUT_PREFIX=$TMP_SCRATCH/testinput_R1_001.fastq;
                echo -e "[sam_bwa_gfu]: bwa samse on node $HOSTNAME with TMP_SCRATCH: $TMP_SCRATCH" >&2;
                echo -e "[sam_bwa_gfu]: header is @RG	ID:$EXPERIMENT_NAME	PL:$PLATFORM	PU:$FCID	LB:$EXPERIMENT_NAME	SM:$SAMPLEID	CN:$CENTER" >&2;
                /lustre1/tools/bin/bwa samse $BWAOPT_SE -r "@RG	ID:$EXPERIMENT_NAME	PL:$PLATFORM	PU:$FCID	LB:$EXPERIMENT_NAME	SM:$SAMPLEID	CN:$CENTER" /test/reference/pippo.fa testinput_R1_001.fastq.sai testinput_R1_001.fastq.gz > $TMP_OUTPUT_PREFIX.sam;
                /usr/local/cluster/bin/samtools view -Su $TMP_OUTPUT_PREFIX.sam | /usr/local/cluster/bin/samtools sort - $TMP_OUTPUT_PREFIX;
                mv $TMP_SCRATCH/testinput_R1_001.fastq.bam testinput_R1_001.fastq.bam;
                rm -rf $TMP_SCRATCH;
            
OUTPUTS: testinput_R2_001.fastq.sai, testinput_R2_001.fastq.bam
COMMAND:

                /lustre1/tools/bin/bwa aln -t 2  /test/reference/pippo.fa testinput_R2_001.fastq.gz > testinput_R2_001.fastq.sai;
                TMP_SCRATCH=$(/bin/mktemp -d /dev/shm/$PROJECTNAME.XXXXXXXXXXXXX);
                TMP_OUTPUT_PREFIX=$TMP_SCRATCH/testinput_R2_001.fastq;
                echo -e "[sam_bwa_gfu]: bwa samse on node $HOSTNAME with TMP_SCRATCH: $TMP_SCRATCH" >&2;
                echo -e "[sam_bwa_gfu]: header is @RG	ID:$EXPERIMENT_NAME	PL:$PLATFORM	PU:$FCID	LB:$EXPERIMENT_NAME	SM:$SAMPLEID	CN:$CENTER" >&2;
                /lustre1/tools/bin/bwa samse $BWAOPT_SE -r "@RG	ID:$EXPERIMENT_NAME	PL:$PLATFORM	PU:$FCID	LB:$EXPERIMENT_NAME	SM:$SAMPLEID	CN:$CENTER" /test/reference/pippo.fa testinput_R2_001.fastq.sai testinput_R2_001.fastq.gz > $TMP_OUTPUT_PREFIX.sam;
                /usr/local/cluster/bin/samtools view -Su $TMP_OUTPUT_PREFIX.sam | /usr/local/cluster/bin/samtools sort - $TMP_OUTPUT_PREFIX;
                mv $TMP_SCRATCH/testinput_R2_001.fastq.bam testinput_R2_001.fastq.bam;
                rm -rf $TMP_SCRATCH;
            
INPUTS: testinput_R1_001.fastq.gz
INPUTS: testinput_R2_001.fastq.gz
OUTPUTS: testinput_R1_001.fastq.sai, testinput_R1_001.fastq.bam
COMMAND:

                /lustre1/tools/bin/bwa aln -t 2  /test/reference/pippo.fa testinput_R1_001.fastq.gz > testinput_R1_001.fastq.sai;
                TMP_SCRATCH=$(/bin/mktemp -d /dev/shm/$PROJECTNAME.XXXXXXXXXXXXX);
                TMP_OUTPUT_PREFIX=$TMP_SCRATCH/testinput_R1_001.fastq;
                echo -e "[sam_bwa_gfu]: bwa samse on node $HOSTNAME with TMP_SCRATCH: $TMP_SCRATCH" >&2;
                echo -e "[sam_bwa_gfu]: header is @RG	ID:$EXPERIMENT_NAME	PL:$PLATFORM	PU:$FCID	LB:$EXPERIMENT_NAME	SM:$SAMPLEID	CN:$CENTER" >&2;
                /lustre1/tools/bin/bwa samse $BWAOPT_SE -r "@RG	ID:$EXPERIMENT_NAME	PL:$PLATFORM	PU:$FCID	LB:$EXPERIMENT_NAME	SM:$SAMPLEID	CN:$CENTER" /test/reference/pippo.fa testinput_R1_001.fastq.sai testinput_R1_001.fastq.gz > $TMP_OUTPUT_PREFIX.sam;
                /usr/local/cluster/bin/samtools view -Su $TMP_OUTPUT_PREFIX.sam | /usr/local/cluster/bin/samtools sort - $TMP_OUTPUT_PREFIX;
                mv $TMP_SCRATCH/testinput_R1_001.fastq.bam testinput_R1_001.fastq.bam;
                rm -rf $TMP_SCRATCH;
            
OUTPUTS: testinput_R2_001.fastq.sai, testinput_R2_001.fastq.bam
COMMAND:

                /lustre1/tools/bin/bwa aln -t 2  /test/reference/pippo.fa testinput_R2_001.fastq.gz > testinput_R2_001.fastq.sai;
                TMP_SCRATCH=$(/bin/mktemp -d /dev/shm/$PROJECTNAME.XXXXXXXXXXXXX);
                TMP_OUTPUT_PREFIX=$TMP_SCRATCH/testinput_R2_001.fastq;
                echo -e "[sam_bwa_gfu]: bwa samse on node $HOSTNAME with TMP_SCRATCH: $TMP_SCRATCH" >&2;
                echo -e "[sam_bwa_gfu]: header is @RG	ID:$EXPERIMENT_NAME	PL:$PLATFORM	PU:$FCID	LB:$EXPERIMENT_NAME	SM:$SAMPLEID	CN:$CENTER" >&2;
                /lustre1/tools/bin/bwa samse $BWAOPT_SE -r "@RG	ID:$EXPERIMENT_NAME	PL:$PLATFORM	PU:$FCID	LB:$EXPERIMENT_NAME	SM:$SAMPLEID	CN:$CENTER" /test/reference/pippo.fa testinput_R2_001.fastq.sai testinput_R2_001.fastq.gz > $TMP_OUTPUT_PREFIX.sam;
                /usr/local/cluster/bin/samtools view -Su $TMP_OUTPUT_PREFIX.sam | /usr/local/cluster/bin/samtools sort - $TMP_OUTPUT_PREFIX;
                mv $TMP_SCRATCH/testinput_R2_001.fastq.bam testinput_R2_001.fastq.bam;
                rm -rf $TMP_SCRATCH;
            

======================================== Pipeline Finished =========================================
18:16:11 MSG:  Finished at Wed Jan 08 18:16:11 CET 2014
18:16:11 MSG:  Outputs are: 
		testinput_R1_001.fastq.bam
		testinput_R1_001.fastq.sai
		testinput_R2_001.fastq.bam
		testinput_R2_001.fastq.sai
